<!DOCTYPE html><html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Online Store</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            display: flex;
        }
        .sidebar {
            width: 200px;
            background: #333;
            color: white;
            padding: 10px;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }
        .sidebar a {
            color: white;
            margin: 10px 0;
            text-decoration: none;
            display: block;
        }
        .main-content {
            flex-grow: 1;
            padding: 20px;
        }
        .store {
            margin-top: 20px;
        }
        .item {
            margin: 10px;
            padding: 10px;
            border: 1px solid black;
        }
        .out-of-stock {
            color: red;
        }
    </style>
</head>
<body onload="checkLoginStatus()">
    <div class="sidebar">
        <a href="#" onclick="openSection('FREE FIRE')">FREE FIRE</a>
        <a href="#" onclick="openSection('PUBG')">PUBG</a>
        <a href="#" onclick="openSection('MLBB')">MLBB</a>
        <a href="#" onclick="openSection('OTHERS')">OTHERS</a>
        <a href="#" onclick="goHome()">Back to Home</a>
    </div>
    <div class="main-content">
        <div id="authButtons">
            <button onclick="showLogin()">Login</button>
            <button onclick="showSignup()">Sign Up</button>
        </div>
        <button id="logoutButton" onclick="logout()" style="display:none;">Logout</button>
        <div id="store" class="store"></div>
    </div><script>
    let users = JSON.parse(localStorage.getItem("users")) || [];
    let items = [];
    let currentUser = localStorage.getItem("currentUser");
    
    function checkLoginStatus() {
        if (currentUser) {
            document.getElementById("authButtons").style.display = "none";
            document.getElementById("logoutButton").style.display = "block";
            if (currentUser === "admin") {
                showAdminPanel();
            }
        }
    }
    
    function showSignup() {
        let username = prompt("Enter username:");
        let password = prompt("Enter password:");
        users.push({ username, password });
        localStorage.setItem("users", JSON.stringify(users));
        alert("Signup successful!");
    }
    
    function showLogin() {
        let username = prompt("Enter username:");
        let password = prompt("Enter password:");
        if (username === "admin" && password === "GameMaster123!") {
            localStorage.setItem("currentUser", "admin");
            location.reload();
            return;
        }
        let user = users.find(u => u.username === username && u.password === password);
        if (user) {
            localStorage.setItem("currentUser", username);
            location.reload();
        } else {
            alert("Invalid credentials!");
        }
    }
    
    function logout() {
        localStorage.removeItem("currentUser");
        location.reload();
    }
    
    function openSection(category) {
        let storeDiv = document.getElementById("store");
        storeDiv.innerHTML = "<h2>" + category + "</h2>";
        items.forEach((item, index) => {
            if (item.category === category) {
                storeDiv.innerHTML += `
                    <div class="item">
                        <p>${item.name} - ${item.stock > 0 ? item.stock + ' available' : '<span class="out-of-stock">Out of Stock</span>'}</p>
                        <button onclick="buyItem(${index})">Buy</button>
                    </div>`;
            }
        });
    }
    
    function buyItem(index) {
        if (items[index].stock > 0) {
            items[index].stock--;
            openSection(items[index].category);
        }
    }
    
    function goHome() {
        document.getElementById("store").innerHTML = "";
    }
    
    function showAdminPanel() {
        let storeDiv = document.getElementById("store");
        storeDiv.innerHTML = "<h2>Admin Panel</h2>";
        storeDiv.innerHTML += `<button onclick="addItem()">Add Item</button>`;
        items.forEach((item, index) => {
            storeDiv.innerHTML += `
                <div class="item">
                    <p>${item.name} - ${item.stock > 0 ? item.stock + ' available' : '<span class="out-of-stock">Out of Stock</span>'}</p>
                    <button onclick="restockItem(${index})">Restock</button>
                    <button onclick="deleteItem(${index})">Delete</button>
                </div>`;
        });
    }
    
    function addItem() {
        let name = prompt("Enter item name:");
        let category = prompt("Enter category (FREE FIRE, PUBG, MLBB, OTHERS):");
        let stock = parseInt(prompt("Enter stock quantity:"));
        if (name && category && !isNaN(stock)) {
            items.push({ name, category, stock });
            showAdminPanel();
        }
    }
    
    function restockItem(index) {
        let stock = parseInt(prompt("Enter stock quantity to restock:"));
        if (!isNaN(stock) && stock > 0) {
            items[index].stock += stock;
            showAdminPanel();
        }
    }
    
    function deleteItem(index) {
        items.splice(index, 1);
        showAdminPanel();
    }
</script>

</body>
</html>
